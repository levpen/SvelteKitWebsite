import{S as be,i as Te,s as Fe,e as _,t as V,c as m,a as p,h as S,d as f,b as u,g as J,F as c,L,n as fe,M as Be,j as te,k as N,x as xe,m as O,y as Ie,N as de,O as _e,P as H,z as ke,Q as we,R as Ee,r as Pe,p as Ce,T as me,C as De,U as Ne,V as pe}from"../../chunks/index-e127793a.js";function Oe(s){let e,o,l,i,t;return{c(){e=_("main"),o=_("button"),l=V("Send"),this.h()},l(a){e=m(a,"MAIN",{});var b=p(e);o=m(b,"BUTTON",{id:!0,class:!0});var d=p(o);l=S(d,"Send"),d.forEach(f),b.forEach(f),this.h()},h(){u(o,"id","apiButton"),o.disabled=s[0],u(o,"class","svelte-25bd9w")},m(a,b){J(a,e,b),c(e,o),c(o,l),i||(t=L(o,"click",s[1]),i=!0)},p(a,[b]){b&1&&(o.disabled=a[0])},i:fe,o:fe,d(a){a&&f(e),i=!1,t()}}}function Ve(s,e,o){let l,{curFrom:i}=e,{curTo:t}=e;const a=Be();function b(){a("message",{})}return s.$$set=d=>{"curFrom"in d&&o(2,i=d.curFrom),"curTo"in d&&o(3,t=d.curTo)},s.$$.update=()=>{s.$$.dirty&12&&o(0,l=!i||!t)},[l,b,i,t]}class Se extends be{constructor(e){super(),Te(this,e,Ve,Oe,Fe,{curFrom:2,curTo:3})}}function he(s,e,o){const l=s.slice();return l[8]=e[o],l}function ve(s,e,o){const l=s.slice();return l[8]=e[o],l}function ge(s){let e,o=s[8]+"",l,i;return{c(){e=_("option"),l=V(o),this.h()},l(t){e=m(t,"OPTION",{});var a=p(e);l=S(a,o),a.forEach(f),this.h()},h(){e.__value=i=s[8],e.value=e.__value},m(t,a){J(t,e,a),c(e,l)},p(t,a){a&1&&o!==(o=t[8]+"")&&te(l,o),a&1&&i!==(i=t[8])&&(e.__value=i,e.value=e.__value)},d(t){t&&f(e)}}}function ye(s){let e,o=s[8]+"",l,i;return{c(){e=_("option"),l=V(o),this.h()},l(t){e=m(t,"OPTION",{});var a=p(e);l=S(a,o),a.forEach(f),this.h()},h(){e.__value=i=s[8],e.value=e.__value},m(t,a){J(t,e,a),c(e,l)},p(t,a){a&1&&o!==(o=t[8]+"")&&te(l,o),a&1&&i!==(i=t[8])&&(e.__value=i,e.value=e.__value)},d(t){t&&f(e)}}}function Ae(s){let e,o,l,i,t,a,b,d,U,B,h,x,K,E,W,w,A,X,Y,F,Z,P,k,$,C,j,q,z,ee,oe,M=s[0],v=[];for(let r=0;r<M.length;r+=1)v[r]=ge(ve(s,M,r));let R=s[0],g=[];for(let r=0;r<R.length;r+=1)g[r]=ye(he(s,R,r));return k=new Se({props:{curFrom:s[1].curFrom,curTo:s[1].curTo}}),k.$on("message",s[3]),{c(){e=_("main"),o=_("div"),l=_("form"),i=_("div"),t=_("p"),a=V("Amount"),b=N(),d=_("input"),U=N(),B=_("div"),h=_("p"),x=V("From"),K=N(),E=_("select");for(let r=0;r<v.length;r+=1)v[r].c();W=N(),w=_("div"),A=_("p"),X=V("To"),Y=N(),F=_("select");for(let r=0;r<g.length;r+=1)g[r].c();Z=N(),P=_("div"),xe(k.$$.fragment),$=N(),C=_("div"),j=_("p"),q=V(s[2]),this.h()},l(r){e=m(r,"MAIN",{});var y=p(e);o=m(y,"DIV",{class:!0,id:!0});var T=p(o);l=m(T,"FORM",{id:!0,class:!0});var n=p(l);i=m(n,"DIV",{class:!0});var I=p(i);t=m(I,"P",{class:!0});var le=p(t);a=S(le,"Amount"),le.forEach(f),b=O(I),d=m(I,"INPUT",{type:!0,id:!0,class:!0}),I.forEach(f),U=O(n),B=m(n,"DIV",{class:!0});var Q=p(B);h=m(Q,"P",{class:!0});var re=p(h);x=S(re,"From"),re.forEach(f),K=O(Q),E=m(Q,"SELECT",{id:!0,class:!0});var se=p(E);for(let D=0;D<v.length;D+=1)v[D].l(se);se.forEach(f),Q.forEach(f),W=O(n),w=m(n,"DIV",{class:!0});var G=p(w);A=m(G,"P",{class:!0});var ne=p(A);X=S(ne,"To"),ne.forEach(f),Y=O(G),F=m(G,"SELECT",{id:!0,autocomplete:!0,class:!0});var ae=p(F);for(let D=0;D<g.length;D+=1)g[D].l(ae);ae.forEach(f),G.forEach(f),Z=O(n),P=m(n,"DIV",{id:!0,class:!0});var ie=p(P);Ie(k.$$.fragment,ie),ie.forEach(f),$=O(n),C=m(n,"DIV",{class:!0,id:!0});var ce=p(C);j=m(ce,"P",{class:!0});var ue=p(j);q=S(ue,s[2]),ue.forEach(f),ce.forEach(f),n.forEach(f),T.forEach(f),y.forEach(f),this.h()},h(){u(t,"class","svelte-1yf399o"),u(d,"type","number"),u(d,"id","apiAmount"),u(d,"class","svelte-1yf399o"),u(i,"class","flexBox svelte-1yf399o"),u(h,"class","svelte-1yf399o"),u(E,"id","apiFrom"),u(E,"class","svelte-1yf399o"),s[1].curFrom===void 0&&de(()=>s[5].call(E)),u(B,"class","flexBox svelte-1yf399o"),u(A,"class","svelte-1yf399o"),u(F,"id","apiTo"),u(F,"autocomplete","off"),u(F,"class","svelte-1yf399o"),s[1].curTo===void 0&&de(()=>s[6].call(F)),u(w,"class","flexBox svelte-1yf399o"),u(P,"id","apiButton"),u(P,"class","svelte-1yf399o"),u(j,"class","svelte-1yf399o"),u(C,"class","flexBox svelte-1yf399o"),u(C,"id","apiResult"),u(l,"id","apiForm"),u(l,"class","svelte-1yf399o"),u(o,"class","container svelte-1yf399o"),u(o,"id","converter-main")},m(r,y){J(r,e,y),c(e,o),c(o,l),c(l,i),c(i,t),c(t,a),c(i,b),c(i,d),_e(d,s[1].moneyFrom),c(l,U),c(l,B),c(B,h),c(h,x),c(B,K),c(B,E);for(let T=0;T<v.length;T+=1)v[T].m(E,null);H(E,s[1].curFrom),c(l,W),c(l,w),c(w,A),c(A,X),c(w,Y),c(w,F);for(let T=0;T<g.length;T+=1)g[T].m(F,null);H(F,s[1].curTo),c(l,Z),c(l,P),ke(k,P,null),c(l,$),c(l,C),c(C,j),c(j,q),z=!0,ee||(oe=[L(d,"input",s[4]),L(E,"change",s[5]),L(F,"change",s[6]),L(l,"submit",we(s[3]))],ee=!0)},p(r,[y]){if(y&3&&Ee(d.value)!==r[1].moneyFrom&&_e(d,r[1].moneyFrom),y&1){M=r[0];let n;for(n=0;n<M.length;n+=1){const I=ve(r,M,n);v[n]?v[n].p(I,y):(v[n]=ge(I),v[n].c(),v[n].m(E,null))}for(;n<v.length;n+=1)v[n].d(1);v.length=M.length}if(y&3&&H(E,r[1].curFrom),y&1){R=r[0];let n;for(n=0;n<R.length;n+=1){const I=he(r,R,n);g[n]?g[n].p(I,y):(g[n]=ye(I),g[n].c(),g[n].m(F,null))}for(;n<g.length;n+=1)g[n].d(1);g.length=R.length}y&3&&H(F,r[1].curTo);const T={};y&2&&(T.curFrom=r[1].curFrom),y&2&&(T.curTo=r[1].curTo),k.$set(T),(!z||y&4)&&te(q,r[2])},i(r){z||(Pe(k.$$.fragment,r),z=!0)},o(r){Ce(k.$$.fragment,r),z=!1},d(r){r&&f(e),me(v,r),me(g,r),De(k),ee=!1,Ne(oe)}}}function je(s,e,o){let l=[],i=[];fetch("https://open.er-api.com/v6/latest/RUB").then(h=>h.json()).then(h=>{for(let x in h.rates)o(0,l[l.length]=x,l),i[i.length]=x});let t={moneyFrom:0,moneyTo:0,curFrom:"",curTo:""},a="";function b(){fetch(`https://open.er-api.com/v6/latest/${t.curFrom}`).then(h=>h.json()).then(h=>{o(1,t.moneyTo=t.moneyFrom,t);for(let x in h.rates)if(x===t.curTo){o(1,t.moneyTo*=h.rates[x],t),console.log(h.rates[x]),o(2,a=`${t.moneyFrom} ${t.curFrom} = ${t.moneyTo} ${t.curTo}`),console.log(a);break}})}function d(){t.moneyFrom=Ee(this.value),o(1,t),o(0,l)}function U(){t.curFrom=pe(this),o(1,t),o(0,l)}function B(){t.curTo=pe(this),o(1,t),o(0,l)}return[l,t,a,b,d,U,B]}class Re extends be{constructor(e){super(),Te(this,e,je,Ae,Fe,{})}}export{Re as default};
