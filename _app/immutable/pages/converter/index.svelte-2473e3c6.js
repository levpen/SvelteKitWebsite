import{S as Fe,i as ye,s as Ee,e as h,t as A,c as m,a as v,h as M,d as f,b as i,g as K,F as u,L as z,n as fe,M as Ie,j as te,k as V,x as Be,m as S,y as ke,N as _e,O as he,P as J,z as Pe,Q as Ce,R as be,r as De,p as Ne,T as me,C as Oe,U as Ve,V as ve}from"../../chunks/index-51e718d3.js";function Se(r){let e,o,l,c,t;return{c(){e=h("main"),o=h("button"),l=A("Send"),this.h()},l(a){e=m(a,"MAIN",{});var F=v(e);o=m(F,"BUTTON",{id:!0,class:!0});var _=v(o);l=M(_,"Send"),_.forEach(f),F.forEach(f),this.h()},h(){i(o,"id","apiButton"),o.disabled=r[0],i(o,"class","svelte-1etbk3m")},m(a,F){K(a,e,F),u(e,o),u(o,l),c||(t=z(o,"click",r[1]),c=!0)},p(a,[F]){F&1&&(o.disabled=a[0])},i:fe,o:fe,d(a){a&&f(e),c=!1,t()}}}function Ae(r,e,o){let l,{curFrom:c}=e,{curTo:t}=e;const a=Ie();function F(){a("message",{})}return r.$$set=_=>{"curFrom"in _&&o(2,c=_.curFrom),"curTo"in _&&o(3,t=_.curTo)},r.$$.update=()=>{r.$$.dirty&12&&o(0,l=!c||!t)},[l,F,c,t]}class Me extends Fe{constructor(e){super(),ye(this,e,Ae,Se,Ee,{curFrom:2,curTo:3})}}function pe(r,e,o){const l=r.slice();return l[8]=e[o],l}function de(r,e,o){const l=r.slice();return l[8]=e[o],l}function ge(r){let e,o=r[8]+"",l,c;return{c(){e=h("option"),l=A(o),this.h()},l(t){e=m(t,"OPTION",{});var a=v(e);l=M(a,o),a.forEach(f),this.h()},h(){e.__value=c=r[8],e.value=e.__value},m(t,a){K(t,e,a),u(e,l)},p(t,a){a&1&&o!==(o=t[8]+"")&&te(l,o),a&1&&c!==(c=t[8])&&(e.__value=c,e.value=e.__value)},d(t){t&&f(e)}}}function Te(r){let e,o=r[8]+"",l,c;return{c(){e=h("option"),l=A(o),this.h()},l(t){e=m(t,"OPTION",{});var a=v(e);l=M(a,o),a.forEach(f),this.h()},h(){e.__value=c=r[8],e.value=e.__value},m(t,a){K(t,e,a),u(e,l)},p(t,a){a&1&&o!==(o=t[8]+"")&&te(l,o),a&1&&c!==(c=t[8])&&(e.__value=c,e.value=e.__value)},d(t){t&&f(e)}}}function Re(r){let e,o,l,c,t,a,F,_,q,I,p,B,W,b,X,C,R,Y,Z,E,$,D,P,x,N,U,Q,w,ee,oe,j=r[0],d=[];for(let s=0;s<j.length;s+=1)d[s]=ge(de(r,j,s));let L=r[0],g=[];for(let s=0;s<L.length;s+=1)g[s]=Te(pe(r,L,s));return P=new Me({props:{curFrom:r[1].curFrom,curTo:r[1].curTo}}),P.$on("message",r[3]),{c(){e=h("main"),o=h("div"),l=h("form"),c=h("div"),t=h("p"),a=A("Amount"),F=V(),_=h("input"),q=V(),I=h("div"),p=h("p"),B=A("From"),W=V(),b=h("select");for(let s=0;s<d.length;s+=1)d[s].c();X=V(),C=h("div"),R=h("p"),Y=A("To"),Z=V(),E=h("select");for(let s=0;s<g.length;s+=1)g[s].c();$=V(),D=h("div"),Be(P.$$.fragment),x=V(),N=h("div"),U=h("p"),Q=A(r[2]),this.h()},l(s){e=m(s,"MAIN",{});var T=v(e);o=m(T,"DIV",{class:!0,id:!0});var y=v(o);l=m(y,"FORM",{id:!0,class:!0});var n=v(l);c=m(n,"DIV",{class:!0});var k=v(c);t=m(k,"P",{class:!0});var le=v(t);a=M(le,"Amount"),le.forEach(f),F=S(k),_=m(k,"INPUT",{type:!0,id:!0,class:!0}),k.forEach(f),q=S(n),I=m(n,"DIV",{class:!0});var G=v(I);p=m(G,"P",{class:!0});var se=v(p);B=M(se,"From"),se.forEach(f),W=S(G),b=m(G,"SELECT",{id:!0,class:!0});var re=v(b);for(let O=0;O<d.length;O+=1)d[O].l(re);re.forEach(f),G.forEach(f),X=S(n),C=m(n,"DIV",{class:!0});var H=v(C);R=m(H,"P",{class:!0});var ne=v(R);Y=M(ne,"To"),ne.forEach(f),Z=S(H),E=m(H,"SELECT",{id:!0,autocomplete:!0,class:!0});var ae=v(E);for(let O=0;O<g.length;O+=1)g[O].l(ae);ae.forEach(f),H.forEach(f),$=S(n),D=m(n,"DIV",{id:!0,class:!0});var ce=v(D);ke(P.$$.fragment,ce),ce.forEach(f),x=S(n),N=m(n,"DIV",{class:!0,id:!0});var ue=v(N);U=m(ue,"P",{class:!0});var ie=v(U);Q=M(ie,r[2]),ie.forEach(f),ue.forEach(f),n.forEach(f),y.forEach(f),T.forEach(f),this.h()},h(){i(t,"class","svelte-1yf399o"),i(_,"type","number"),i(_,"id","apiAmount"),i(_,"class","svelte-1yf399o"),i(c,"class","flexBox svelte-1yf399o"),i(p,"class","svelte-1yf399o"),i(b,"id","apiFrom"),i(b,"class","svelte-1yf399o"),r[1].curFrom===void 0&&_e(()=>r[5].call(b)),i(I,"class","flexBox svelte-1yf399o"),i(R,"class","svelte-1yf399o"),i(E,"id","apiTo"),i(E,"autocomplete","off"),i(E,"class","svelte-1yf399o"),r[1].curTo===void 0&&_e(()=>r[6].call(E)),i(C,"class","flexBox svelte-1yf399o"),i(D,"id","apiButton"),i(D,"class","svelte-1yf399o"),i(U,"class","svelte-1yf399o"),i(N,"class","flexBox svelte-1yf399o"),i(N,"id","apiResult"),i(l,"id","apiForm"),i(l,"class","svelte-1yf399o"),i(o,"class","container svelte-1yf399o"),i(o,"id","converter-main")},m(s,T){K(s,e,T),u(e,o),u(o,l),u(l,c),u(c,t),u(t,a),u(c,F),u(c,_),he(_,r[1].moneyFrom),u(l,q),u(l,I),u(I,p),u(p,B),u(I,W),u(I,b);for(let y=0;y<d.length;y+=1)d[y].m(b,null);J(b,r[1].curFrom),u(l,X),u(l,C),u(C,R),u(R,Y),u(C,Z),u(C,E);for(let y=0;y<g.length;y+=1)g[y].m(E,null);J(E,r[1].curTo),u(l,$),u(l,D),Pe(P,D,null),u(l,x),u(l,N),u(N,U),u(U,Q),w=!0,ee||(oe=[z(_,"input",r[4]),z(b,"change",r[5]),z(E,"change",r[6]),z(l,"submit",Ce(r[3]))],ee=!0)},p(s,[T]){if(T&3&&be(_.value)!==s[1].moneyFrom&&he(_,s[1].moneyFrom),T&1){j=s[0];let n;for(n=0;n<j.length;n+=1){const k=de(s,j,n);d[n]?d[n].p(k,T):(d[n]=ge(k),d[n].c(),d[n].m(b,null))}for(;n<d.length;n+=1)d[n].d(1);d.length=j.length}if(T&3&&J(b,s[1].curFrom),T&1){L=s[0];let n;for(n=0;n<L.length;n+=1){const k=pe(s,L,n);g[n]?g[n].p(k,T):(g[n]=Te(k),g[n].c(),g[n].m(E,null))}for(;n<g.length;n+=1)g[n].d(1);g.length=L.length}T&3&&J(E,s[1].curTo);const y={};T&2&&(y.curFrom=s[1].curFrom),T&2&&(y.curTo=s[1].curTo),P.$set(y),(!w||T&4)&&te(Q,s[2])},i(s){w||(De(P.$$.fragment,s),w=!0)},o(s){Ne(P.$$.fragment,s),w=!1},d(s){s&&f(e),me(d,s),me(g,s),Oe(P),ee=!1,Ve(oe)}}}function Ue(r,e,o){let l=[],c=[];fetch("https://open.er-api.com/v6/latest/RUB").then(p=>p.json()).then(p=>{for(let B in p.rates)o(0,l[l.length]=B,l),c[c.length]=B});let t={moneyFrom:0,moneyTo:0,curFrom:"",curTo:""},a="";function F(){fetch(`https://open.er-api.com/v6/latest/${t.curFrom}`).then(p=>p.json()).then(p=>{o(1,t.moneyTo=t.moneyFrom,t);for(let B in p.rates)if(B===t.curTo){o(1,t.moneyTo*=p.rates[B],t),console.log(p.rates[B]),o(2,a=`${t.moneyFrom} ${t.curFrom} = ${t.moneyTo} ${t.curTo}`),console.log(a);break}})}function _(){t.moneyFrom=be(this.value),o(1,t),o(0,l)}function q(){t.curFrom=ve(this),o(1,t),o(0,l)}function I(){t.curTo=ve(this),o(1,t),o(0,l)}return[l,t,a,F,_,q,I]}class Le extends Fe{constructor(e){super(),ye(this,e,Ue,Re,Ee,{})}}export{Le as default};
